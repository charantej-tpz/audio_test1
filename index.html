<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Audio Recorder</title>
  <link rel="stylesheet" href="/src/styles.css" />
  <script type="module" src="/src/main-scriptprocessor.js"></script>
</head>

<body>
  <div class="container">
    <h1>üéôÔ∏è Audio Recorder</h1>

    <label class="label">Sample Rate</label>
    <select id="sampleRate" class="dropdown">
      <option value="16000">16 kHz</option>
      <option value="48000">48 kHz</option>
    </select>

    <div class="checkbox-row">
      <input type="checkbox" id="removeSilence" />
      <label for="removeSilence">Remove Starting Silence</label>
    </div>

    <div class="record-area">
      <div class="mic-container">
        <div class="mic-icon">üé§</div>
      </div>
      <button id="recordBtn" class="btn">Start Recording</button>
    </div>

    <button id="downloadBtn" class="download" disabled>Download WAV</button>

    <!-- Diagnostic Panel for Mobile Testing -->
    <div id="diagnosticPanel" class="diagnostic-panel" style="display: none;">
      <div class="diag-header">üìä Recording Diagnostics</div>
      <div class="diag-stats">
        <div class="diag-row">
          <span>Device Rate:</span>
          <span id="diagSampleRate">-</span>
        </div>
        <div class="diag-row">
          <span>Duration:</span>
          <span id="diagDuration">0.0s</span>
        </div>
        <div class="diag-row">
          <span>Callbacks:</span>
          <span id="diagCallbacks">0</span>
        </div>
        <div class="diag-row">
          <span>Input Ratio:</span>
          <span id="diagRatio">100%</span>
        </div>
        <div class="diag-row">
          <span>Output Ratio:</span>
          <span id="diagDownsampleRatio">100%</span>
        </div>
        <div class="diag-row">
          <span>Gaps:</span>
          <span id="diagGaps">0</span>
        </div>
      </div>
      <div id="diagAlerts" class="diag-alerts"></div>
    </div>
  </div>
</body>

</html>